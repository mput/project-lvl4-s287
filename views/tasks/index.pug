extends /layouts/application.pug

block content
  .container-fluid.bg-light.p-0
    ul.nav.nav-tabs
      li.nav-item
        a.nav-link.active(href='#') All tasks
      li.nav-item
        a.nav-link(href='#') My tasks
      li.nav-item
        a.nav-link(href='#') Tasks for me
    .container.bg-white.border.border-top-0
      .row.pt-4.justify-content-around
        .col.flex-grow-0
          a.btn.btn-success(href=urlFor('newTask') role='button') New task
        .w-100.d-block.d-md-none.mt-4
        .col.ml-md-auto.flex-grow-0
          .d-flex.align-items-center
            span.text-nowrap.font-weight-normal Group By:
            +dropdownGroup()
              +dropdownItem()
        .col.ml-1.mr-2.flex-grow-0
          .d-flex.align-items-center
            span.text-nowrap.font-weight-normal Group By:
            +dropdownGroup()
              +dropdownItem()
      .row.rounded-bottom.pb-2.pt-3
        .col
          p.m-0
            a.dropdown-toggle(data-toggle='collapse' href='#formCollapse' role='button' aria-expanded='false' aria-controls='formCollapse') Filters
      .row.rounded-bottom.collapse#formCollapse
        .col
            form
              .form-row
                .col-md-4.mb-3
                  label.mr-2(for = assignedTo) Assigned to:
                  select.custom-select
                    option choose:
                    option Koly
                    option Maxim Putintse
                    option Galaction Andreevich
                    option Jorh Harrison
                .col-md-4.mb-3
                  label.mr-2(for = assignedTo) Status is:
                  select.custom-select
                    option choose:
                    option Koly
                    option Maxim Putintse
                    option Galaction Andreevich
                    option Jorh Harrison
                .col-md-4.mb-3
                  label.mr-2(for = assignedTo) Has tag:
                  select.custom-select
                    option choose:
                    option Koly
                    option Maxim Putintse
                    option Galaction Andreevich
                    option Jorh Harrison
                .col-md-4.mb-3
                  button.btn.btn-primary Submit

      .container.mt-4
        h2.h4.py-1.pl-2.border-bottom All tasks:
        table.table.table-borderless.mt-2
          thead
            tr
              th(scope='col')
              th(scope='col')
              // th(scope='col') Tags
              th(scope='col') Creator
              th(scope='col') Assigned to
              th(scope='col') Status
          tbody
            mixin taskRow(task)
              - const { id, name, description, Creator, AssignedTo, Status } = task
              tr.table-info.border-bottom.border-white
                td
                  .btn-group
                    a.btn.btn-warning.btn-sm(href=urlFor('taskEdit', { id }) role='button') Edit
                    a.btn.btn-danger.btn-sm(href=urlFor('task', { id }) role='button' data-method='delete' rel='nofollow') Delete
                td
                  h6= name
                  p.mb-1= description
                // td Tags...
                td= Creator.fullName
                td
                  if AssignedTo
                    = AssignedTo.fullName
                  else
                    Task is not assigned yet.
                td.bg-info= Status.name

            for task in tasks
              +taskRow(task)
